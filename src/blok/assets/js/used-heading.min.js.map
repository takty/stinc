{"version":3,"sources":["assets/js/used-heading.js"],"names":["wp","compose","createHigherOrderComponent","element","createElement","el","firstLevel","window","wpinc_blok_used_header","first_level","targetBlocks","restrictHeadingLevel","BlockEdit","props","includes","name","newProps","attributes","level","Math","max","hooks","addFilter"],"mappings":"AASA,CAACA,IACA,MACCC,SAASC,2BAAEA,GACXC,SAASC,cAAEA,IACRJ,EACEK,EAAKD,EAELE,EAAeC,QAAQC,wBAAwBC,aAAe,EAC9DC,EAAe,CAAC,gBAEhBC,EAAuBT,GAA2BU,GAChDC,IACN,IAAKH,EAAaI,SAASD,EAAME,MAChC,OAAOV,EAAGO,EAAWC,GAEtB,MAAMG,EAAW,IACbH,EACHI,WAAY,IACRJ,EAAMI,WACTC,MAAOC,KAAKC,IAAId,EAAYO,EAAMI,WAAWC,SAG/C,OAAOb,EAAGO,EAAWI,EAArB,GAEC,wBAEHhB,EAAGqB,MAAMC,UACR,mBACA,oCACAX,EA7BF,EAAA,CA+BGJ,OAAOP","file":"assets\\js\\used-heading.min.js","sourcesContent":["/**\n * Heading Filter\n *\n * @author Takuto Yanagida\n * @version 2022-08-08\n *\n * Based on https://github.com/WordPress/gutenberg/issues/15160\n */\n\n(wp => {\n\tconst {\n\t\tcompose: { createHigherOrderComponent },\n\t\telement: { createElement },\n\t} = wp;\n\tconst el = createElement;\n\n\tconst firstLevel   = window?.wpinc_blok_used_header?.first_level ?? 3;\n\tconst targetBlocks = ['core/heading'];\n\n\tconst restrictHeadingLevel = createHigherOrderComponent(BlockEdit => {\n\t\treturn props => {\n\t\t\tif (!targetBlocks.includes(props.name)) {\n\t\t\t\treturn el(BlockEdit, props);\n\t\t\t}\n\t\t\tconst newProps = {\n\t\t\t\t...props,\n\t\t\t\tattributes: {\n\t\t\t\t\t...props.attributes,\n\t\t\t\t\tlevel: Math.max(firstLevel, props.attributes.level),\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn el(BlockEdit, newProps);\n\t\t};\n\t}, 'restrictHeadingLevel');\n\n\twp.hooks.addFilter(\n\t\t'editor.BlockEdit',\n\t\t'wpinc/blok/restrict-heading-level',\n\t\trestrictHeadingLevel\n\t);\n})(window.wp);\n"]}