{"version":3,"sources":["assets/js/used-heading.js"],"names":["wp","compose","createHigherOrderComponent","element","createElement","el","first_level","window","wpinc_blok_used_header","targetBlocks","filter","BlockEdit","props","includes","name","newProps","attributes","level","Math","max","hooks","addFilter"],"mappings":"AASA,CAAEA,IACD,MACCC,SAASC,2BAAEA,GACXC,SAASC,cAAEA,IACRJ,EACEK,EAAKD,EAELE,EAAeC,QAAQC,wBAAwBF,aAAe,EAC9DG,EAAe,CAAC,gBAEhBC,EAASR,GAA2BS,GAClCC,IACN,IAAKH,EAAaI,SAASD,EAAME,MAChC,OAAOT,EAAGM,EAAWC,GAEtB,MAAMG,EAAW,IACbH,EACHI,WAAY,IACRJ,EAAMI,WACTC,MAAOC,KAAKC,IAAIb,EAAaM,EAAMI,WAAWC,SAGhD,OAAOZ,EAAGM,EAAWI,KAEpB,gBAEHf,EAAGoB,MAAMC,UACR,mBACA,4BACAX,IA7BF,CA+BGH,OAAOP","file":"assets\\js\\used-heading.min.js","sourcesContent":["/**\n * Heading Filter\n *\n * @author Takuto Yanagida\n * @version 2022-03-15\n *\n * Based on https://github.com/WordPress/gutenberg/issues/15160\n */\n\n((wp) => {\n\tconst {\n\t\tcompose: { createHigherOrderComponent },\n\t\telement: { createElement },\n\t} = wp;\n\tconst el = createElement;\n\n\tconst first_level  = window?.wpinc_blok_used_header?.first_level ?? 3;\n\tconst targetBlocks = ['core/heading'];\n\n\tconst filter = createHigherOrderComponent(BlockEdit => {\n\t\treturn props => {\n\t\t\tif (!targetBlocks.includes(props.name)) {\n\t\t\t\treturn el(BlockEdit, props);\n\t\t\t}\n\t\t\tconst newProps = {\n\t\t\t\t...props,\n\t\t\t\tattributes: {\n\t\t\t\t\t...props.attributes,\n\t\t\t\t\tlevel: Math.max(first_level, props.attributes.level),\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn el(BlockEdit, newProps);\n\t\t};\n\t}, 'withFiltered');\n\n\twp.hooks.addFilter(\n\t\t'editor.BlockEdit',\n\t\t'wpinc/blok/heading_filter',\n\t\tfilter\n\t);\n})(window.wp);\n"]}