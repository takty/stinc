{"version":3,"sources":["assets/js/small-tag.js"],"names":["wp","i18n","__","compose","ifCondition","element","createElement","data","withSelect","blockEditor","RichTextToolbarButton","richText","el","ConditionalSmallButton","select","selectedBlock","getSelectedBlock","props","name","icon","title","onClick","onChange","toggleFormat","value","type","registerFormatType","tagName","className","edit","window"],"mappings":"AASA,CAAEA,IACD,MACCC,MAAaC,GAAEA,GACfC,SAAaC,YAAEA,EAAFD,QAAeA,GAC5BE,SAAaC,cAAEA,GACfC,MAAaC,WAAEA,GACfC,aAAaC,sBAAEA,GALVC,SAMLA,GACGX,EACEY,EAAKN,EAmBLO,EAAyBV,EAC9BK,GAAWM,IACH,CACNC,cAAeD,EAAO,eAAeE,uBAGvCZ,GAAYa,GAEVA,EAAMF,eACuB,iBAA7BE,EAAMF,cAAcG,OATQf,EAjBXc,GACZL,EACNF,EACA,CACCS,KAAS,mBACTC,MAASlB,EAAG,QAAS,SACrBmB,QAAS,KACRJ,EAAMK,SACLtB,EAAGW,SAASY,aAAaN,EAAMO,MAAO,CACrCC,KAAM,gBAFR,MAwBJd,EAASe,mBAAmB,cAAe,CAC1CN,MAAWlB,EAAG,QAAS,SACvByB,QAAW,QACXC,UAAW,KACXC,KAAWhB,GA9Cb,EAAA,CAgDGiB,OAAO9B","file":"assets\\js\\small-tag.min.js","sourcesContent":["/**\n * Small Tag\n *\n * @author Takuto Yanagida\n * @version 2022-09-07\n *\n * Based on https://webomnizz.com/gutenberg-editor-add-button-to-the-toolbar/\n */\n\n((wp) => {\n\tconst {\n\t\ti18n       : { __ },\n\t\tcompose    : { ifCondition, compose },\n\t\telement    : { createElement },\n\t\tdata       : { withSelect },\n\t\tblockEditor: { RichTextToolbarButton },\n\t\trichText,\n\t} = wp;\n\tconst el = createElement;\n\n\tconst SmallButton = props => {\n\t\treturn el(\n\t\t\tRichTextToolbarButton,\n\t\t\t{\n\t\t\t\ticon   : 'admin-customizer',\n\t\t\t\ttitle  : __('Small', 'wpinc'),\n\t\t\t\tonClick: () => {\n\t\t\t\t\tprops.onChange(\n\t\t\t\t\t\twp.richText.toggleFormat(props.value, {\n\t\t\t\t\t\t\ttype: 'wpinc/small'\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\n\tconst ConditionalSmallButton = compose(\n\t\twithSelect(select => {\n\t\t\treturn {\n\t\t\t\tselectedBlock: select('core/editor').getSelectedBlock()\n\t\t\t}\n\t\t}),\n\t\tifCondition(props => {\n\t\t\treturn (\n\t\t\t\tprops.selectedBlock &&\n\t\t\t\tprops.selectedBlock.name === 'core/heading'\n\t\t\t);\n\t\t})\n\t)(SmallButton);\n\n\trichText.registerFormatType('wpinc/small', {\n\t\ttitle    : __('Small', 'wpinc'),\n\t\ttagName  : 'small',\n\t\tclassName: null,\n\t\tedit     : ConditionalSmallButton,\n\t});\n})(window.wp);\n"]}