window.wpinc=window.wpinc??{},window.wpinc.dia=window.wpinc.dia??{},window.wpinc.dia.setMediaPicker=function(e,t=!1,i=null,n={}){!1===t&&(t="media"),n=Object.assign({multiple:!1,type:"",parentGen:-1,title:!1},n);const o=document.getElementById("post_ID").value;let l=null;e.addEventListener("click",(e=>{e.preventDefault(),l||(wp.media.view.AttachmentsBrowser=d,l=function(e,t,i,n){wp.media.model.settings.post.id=e,wp.media.view.settings.post.id=e;const o=wp.media({title:t,library:{type:n},frame:"select",multiple:i});return o.uploader.options.uploader.params.post_id=e,o}(o,!1===n.title?e.target.innerText:n.title,n.multiple,n.type),l.on("select",(()=>{const o=-1!==parentGen?getParent(e.target,n.parentGen):null;if(n.multiple){const n=l.state().get("selection").map((e=>e.toJSON()));o&&setItem(o,t,n[0]),i&&i(e.target,n)}else{const n=l.state().get("selection").first().toJSON();o&&setItem(o,t,n),i&&i(e.target,n)}})),n.media_id_input&&l.on("open",(()=>{const e=l.state().get("selection"),t=document.getElementById(n.media_id_input).value,i=wp.media.attachment(t);i.fetch(),e.add(i?[i]:[])})),l.on("close",(()=>{wp.media.view.AttachmentsBrowser=r}))),l.open()}));const a=wp.media.view.AttachmentFilters.extend({createFilters:function(){const e={};e.all={text:wp.media.view.l10n.allMediaItems,props:{status:null,type:null,uploadedTo:null,orderby:"date",order:"DESC"},priority:10},e.uploaded={text:wp.media.view.l10n.uploadedToThisPost,props:{status:null,type:null,uploadedTo:wp.media.view.settings.post.id,orderby:"menuOrder",order:"ASC"},priority:20},e.unattached={text:wp.media.view.l10n.unattached,props:{status:null,type:null,uploadedTo:0,orderby:"menuOrder",order:"ASC"},priority:50},this.filters=e}}),r=wp.media.view.AttachmentsBrowser,d=r.extend({createToolbar:function(){r.prototype.createToolbar.call(this),this.toolbar.set("mediaLibraryUploadedFilter",new a({controller:this.controller,model:this.collection.props,priority:-100}).render())}})};
//# sourceMappingURL=picker-media.min.js.map