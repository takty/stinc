window.wpinc=window.wpinc??{},window.wpinc.dia=window.wpinc.dia??{},window.wpinc.dia.setLinkPicker=function(){function e(e,n,t){for(const i of Array.from(e.getElementsByClassName(n)))i instanceof HTMLInputElement?i.value=t:"A"===i.tagName?i.setAttribute("href",t):i.innerText=t}let n=null,t=null,i=!1;return function(l,r=!1,u=null,o={}){!1===r&&(r="link"),o=Object.assign({isInternalOnly:!1,isLinkTargetAllowed:!1,parentGen:-1,postType:null},o),l.addEventListener("click",(s=>{l.getAttribute("disabled")||(s.preventDefault(),function(e,l,r,u){const o="picker-link-ta"+(0|8191*Math.random()),s=document.createElement("textarea");s.style.display="none",s.id=o,document.body.appendChild(s);const a=function(){if(wpLink.modalOpen&&""===s.value)return!1;if(""!==s.value){const n=function(e){const n=document.createElement("div");n.innerHTML=e.value;const t=n.getElementsByTagName("a")[0];return{url:t.href,title:t.innerText}}(s);jQuery("#wp-link").find(".query-results").off("river-select",c),document.body.removeChild(s),e(n)}return n=null,wpLink.close(),!0},c=function(e,n){const t=n.hasClass("no-title")?"":n.children(".item-title").text();jQuery("#wp-link-text").val(t)};(function(e){if(n=e,null===e||e===t)return;if(t=e,wpLink.init(),wpLink.lastSearch="",jQuery("#search-results > ul").empty(),jQuery("#most-recent-results > ul").empty(),i)return;i=!0,jQuery.ajaxSetup({beforeSend:function(e,t){return!t.data||(!n||(jQuery.each(t.data.split("&"),(function(e,i){const l=i.split("=");"action"===l[0]&&"wp-link-ajax"===l[1]&&(t.data+="&link_picker_pt="+n)})),!0))}})})(u),wpLink.open(o),function(e,n){const t=function(){e()||setTimeout(t,n)};setTimeout(t,n)}(a,100),jQuery("#wp-link").find(".query-results").on("river-select",c),jQuery("#link-options").show(),jQuery("#wplink-enter-url").show(),jQuery("#wplink-enter-url + div").show(),jQuery("#wplink-link-existing-content").show(),jQuery("#link-options > .link-target").show();const p=document.querySelectorAll("#wp-link .query-results");for(let e=0;e<p.length;e+=1)p[e].style.maxHeight="unset";jQuery(".wp-link-text-field").hide();let d=208;l&&(jQuery("#wplink-enter-url").hide(),jQuery("#wplink-enter-url + div").hide(),jQuery("#wplink-link-existing-content").hide(),d-=96);r||(jQuery("#link-options > .link-target").hide(),d-=32);l&&!r&&(jQuery("#link-options").hide(),d-=20);for(let e=0;e<p.length;e+=1)p[e].style.height=`calc(100% - ${d}px)`}((n=>{const t=-1!==o.parentGen?function(e,n){for(;0<n--&&e.parentNode;)e=e.parentNode;return e}(s.target,o.parentGen):null;t&&function(n,t,i){e(n,`${t}-url`,i.url),e(n,`${t}-title`,i.title),e(n,`${t}-post-id`,"")}(t,r,n),u&&u(s.target,n)}),o.isInternalOnly,o.isLinkTargetAllowed,o.postType))}))}}();
//# sourceMappingURL=picker-link.min.js.map