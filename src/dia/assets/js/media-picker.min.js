function wpinc_media_picker_init(e){const t=document.querySelector(`.wpinc-dia-media-picker#${e}`),a=t.getElementsByClassName("add-row")[0],l=a.querySelector(".button.add"),n=t.getElementsByClassName("table")[0],i=n.getElementsByClassName("item"),s=n.querySelector(".item-template");jQuery(n).sortable(),jQuery(n).sortable("option",{axis:"y",containment:"parent",cursor:"move",handle:".handle",items:"> .item",placeholder:"item-placeholder",update:o}),o();for(const e of i)d(e);function o(){for(let t=0;t<i.length;t+=1){const a=i[t].querySelectorAll("*[data-key]");for(const l of a){const a=l.dataset.key;l.name=`${e}[${t}][${a}]`}}}function r(e){const t=s.cloneNode(!0);c(t,e),t.classList.remove("item-template"),t.classList.add("item"),n.insertBefore(t,a),d(t)}function c(e,t){e.querySelector("*[data-key='media']").value=t.id,e.querySelector("*[data-key='url']").value=t.url,e.querySelector("*[data-key='title']").value=t.title,e.querySelector("*[data-key='filename']").value=t.filename,e.getElementsByClassName("filename")[0].innerText=t.filename}function d(e){const t=e.getElementsByClassName("delete")[0],a=e.getElementsByClassName("select")[0],l=e.getElementsByClassName("opener")[0];t.addEventListener("click",(t=>{t.target.checked?e.classList.add("is-deleted"):e.classList.remove("is-deleted")})),l.addEventListener("click",(()=>{const t=e.querySelector("*[data-key='url']").value;t&&window.open(t)})),window.wpinc.dia.setMediaPicker(a,!1,((t,a)=>c(e,a)),{multiple:!1,title:a.innerText})}window.wpinc.dia.setMediaPicker(l,!1,((e,t)=>{for(const e of t)r(e);o()}),{multiple:!0,title:l.innerText})}
//# sourceMappingURL=media-picker.min.js.map