{"version":3,"sources":["assets/js/post-thumbnail.js"],"names":["wpinc_post_thumbnail_init","key","body","document","querySelector","sel_btn","getElementsByClassName","del_btn","tn","media_id","set_item","f","value","id","url","innerHTML","i","createElement","src","appendChild","window","wpinc","dia","setMediaPicker","t","style","visibility","multiple","type","title","innerText","addEventListener","e"],"mappings":"AAOA,SAASA,0BAA0BC,GAClC,MAAMC,EAAUC,SAASC,cAAe,6BAA4BH,KAC9DI,EAAUH,EAAKI,uBAAuB,UAAU,GAChDC,EAAUL,EAAKI,uBAAuB,UAAU,GAChDE,EAAUN,EAAKI,uBAAuB,aAAa,GAEnDG,EAAWP,EAAKE,cAAe,UAASH,OAoB9C,SAASS,EAASC,GAGjB,GAFAF,EAASG,MAAQD,EAAEE,GAEL,KAAVF,EAAEG,IACLN,EAAGO,UAAY,OACT,CACN,MAAMC,EAAIb,SAASc,cAAc,OACjCD,EAAEE,IAAMP,EAAEG,IACVN,EAAGW,YAAYH,EAChB,CACD,CA5BAI,OAAOC,MAAMC,IAAIC,eAAelB,GAAS,GAAO,CAACmB,EAAGb,KACnDD,EAASC,GACTJ,EAAQkB,MAAMC,WAAa,EAAE,GAC3B,CAAEC,UAAU,EAAOC,KAAM,QAASC,MAAOxB,EAAQyB,YAEpDvB,EAAQwB,iBAAiB,SAASC,IACjCtB,EAAS,CAAEI,IAAK,GAAID,GAAI,KACxBN,EAAQkB,MAAMC,WAAa,QAAQ,IAGb,KAAnBjB,EAASG,QACZL,EAAQkB,MAAMC,WAAa,SAkB7B","file":"assets\\js\\post-thumbnail.min.js","sourcesContent":["/**\n * Custom Post Thumbnail\n *\n * @author Takuto Yanagida\n * @version 2022-02-03\n */\n\nfunction wpinc_post_thumbnail_init(key) {\n\tconst body    = document.querySelector(`.wpinc-dia-post-thumbnail#${key}`);\n\tconst sel_btn = body.getElementsByClassName('select')[0];\n\tconst del_btn = body.getElementsByClassName('delete')[0];\n\tconst tn      = body.getElementsByClassName('thumbnail')[0];\n\n\tconst media_id = body.querySelector(`[name='${key}']`);\n\n\twindow.wpinc.dia.setMediaPicker(sel_btn, false, (t, f) => {\n\t\tset_item(f);\n\t\tdel_btn.style.visibility = '';\n\t}, { multiple: false, type: 'image', title: sel_btn.innerText });\n\n\tdel_btn.addEventListener('click', e => {\n\t\tset_item({ url: '', id: '' });\n\t\tdel_btn.style.visibility = 'hidden';\n\t});\n\n\tif (media_id.value === '') {\n\t\tdel_btn.style.visibility = 'hidden';\n\t}\n\n\n\t// -------------------------------------------------------------------------\n\n\n\tfunction set_item(f) {\n\t\tmedia_id.value = f.id;\n\n\t\tif (f.url === '') {\n\t\t\ttn.innerHTML = '';\n\t\t} else {\n\t\t\tconst i = document.createElement('img');\n\t\t\ti.src = f.url;\n\t\t\ttn.appendChild(i);\n\t\t}\n\t}\n}\n"]}