{"version":3,"sources":["assets/js/field.js"],"names":["wpinc_meta_media_picker_initialize","key","NS","CLS_SEL","CLS_DEL","ID_BODY","IDN_SRC","IDM_TITLE","set_item","dummy","f","document","getElementById","value","id","style","backgroundImage","url","title","body","sel","getElementsByClassName","setMediaPicker","multiple","innerText","media_id_input","addEventListener","init"],"mappings":"AAUA,SAASA,mCAAmCC,GAC3C,MAAMC,EAAY,0BACZC,EAAYD,EAAK,UACjBE,EAAYF,EAAK,UACjBG,EAAYJ,EAAM,QAClBK,EAAYL,EAAM,OAClBM,EAAYN,EAAM,SAaxB,SAASO,EAASC,EAAOC,GACxBC,SAASC,eAAeX,GAAKY,MAAQH,EAAEI,GACvCH,SAASC,eAAeN,GAASS,MAAMC,gBAAkBN,EAAEO,IAAO,QAAUP,EAAEO,IAAM,KAAQ,GAC5FN,SAASC,eAAeL,GAAWM,MAAQH,EAAEQ,KAC9C,EAbA,SAAcC,GACb,MAAMC,EAAMD,EAAKE,uBAAuBlB,GAAS,GACjDmB,eAAeF,GAAK,EAAOZ,EAAU,CAAEe,UAAU,EAAOL,MAAOE,EAAII,UAAWC,eAAgBxB,IAClFkB,EAAKE,uBAAuBjB,GAAS,GAC7CsB,iBAAiB,SAAS,KAC7BlB,EAAS,KAAM,CAAEM,GAAI,GAAIG,IAAK,GAAIC,MAAO,IAAK,GAEhD,CATAS,CAAKhB,SAASC,eAAeP,GAgB9B","file":"assets/js/field.min.js","sourcesContent":["/**\n *\n * Field (JS)\n *\n * @author Takuto Yanagida\n * @version 2022-01-17\n *\n */\n\n\nfunction wpinc_meta_media_picker_initialize(key) {\n\tconst NS        = 'wpinc-meta-media-picker';\n\tconst CLS_SEL   = NS + '-select';\n\tconst CLS_DEL   = NS + '-delete';\n\tconst ID_BODY   = key + '-body';\n\tconst IDN_SRC   = key + '_src';\n\tconst IDM_TITLE = key + '_title';\n\n\tinit(document.getElementById(ID_BODY));\n\n\tfunction init(body) {\n\t\tconst sel = body.getElementsByClassName(CLS_SEL)[0];\n\t\tsetMediaPicker(sel, false, set_item, { multiple: false, title: sel.innerText, media_id_input: key });\n\t\tconst del = body.getElementsByClassName(CLS_DEL)[0];\n\t\tdel.addEventListener('click', () => {\n\t\t\tset_item(null, { id: '', url: '', title: '' });\n\t\t});\n\t}\n\n\tfunction set_item(dummy, f) {\n\t\tdocument.getElementById(key).value = f.id;\n\t\tdocument.getElementById(IDN_SRC).style.backgroundImage = f.url ? ('url(\"' + f.url + '\")') : '';\n\t\tdocument.getElementById(IDM_TITLE).value = f.title;\n\t}\n}\n"]}