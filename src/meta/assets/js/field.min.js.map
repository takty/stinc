{"version":3,"sources":["assets/js/field.js"],"names":["wpinc_meta_media_picker_initialize","key","ID_BODY","IDN_SRC","IDM_TITLE","set_item","dummy","f","document","getElementById","value","id","style","backgroundImage","url","title","body","sel","getElementsByClassName","NS","setMediaPicker","multiple","innerText","media_id_input","addEventListener","init"],"mappings":"AAUA,SAASA,mCAAmCC,GAC3C,MAGMC,EAAYD,EAAM,QAClBE,EAAYF,EAAM,OAClBG,EAAYH,EAAM,SAaxB,SAASI,EAASC,EAAOC,GACxBC,SAASC,eAAeR,GAAKS,MAAQH,EAAEI,GACvCH,SAASC,eAAeN,GAASS,MAAMC,gBAAkBN,EAAEO,IAAO,QAAUP,EAAEO,IAAM,KAAQ,GAC5FN,SAASC,eAAeL,GAAWM,MAAQH,EAAEQ,KAC7C,EAbD,SAAcC,GACb,MAAMC,EAAMD,EAAKE,uBATAC,kCASgC,GACjDC,eAAeH,GAAK,EAAOZ,EAAU,CAAEgB,UAAU,EAAON,MAAOE,EAAIK,UAAWC,eAAgBtB,IAClFe,EAAKE,uBAVAC,kCAUgC,GAC7CK,iBAAiB,SAAS,KAC7BnB,EAAS,KAAM,CAAEM,GAAI,GAAIG,IAAK,GAAIC,MAAO,IAAzC,GAED,CATDU,CAAKjB,SAASC,eAAeP,GAgB7B","file":"assets\\js\\field.min.js","sourcesContent":["/**\n *\n * Field (JS)\n *\n * @author Takuto Yanagida\n * @version 2022-01-17\n *\n */\n\n\nfunction wpinc_meta_media_picker_initialize(key) {\n\tconst NS        = 'wpinc-meta-media-picker';\n\tconst CLS_SEL   = NS + '-select';\n\tconst CLS_DEL   = NS + '-delete';\n\tconst ID_BODY   = key + '-body';\n\tconst IDN_SRC   = key + '_src';\n\tconst IDM_TITLE = key + '_title';\n\n\tinit(document.getElementById(ID_BODY));\n\n\tfunction init(body) {\n\t\tconst sel = body.getElementsByClassName(CLS_SEL)[0];\n\t\tsetMediaPicker(sel, false, set_item, { multiple: false, title: sel.innerText, media_id_input: key });\n\t\tconst del = body.getElementsByClassName(CLS_DEL)[0];\n\t\tdel.addEventListener('click', () => {\n\t\t\tset_item(null, { id: '', url: '', title: '' });\n\t\t});\n\t}\n\n\tfunction set_item(dummy, f) {\n\t\tdocument.getElementById(key).value = f.id;\n\t\tdocument.getElementById(IDN_SRC).style.backgroundImage = f.url ? ('url(\"' + f.url + '\")') : '';\n\t\tdocument.getElementById(IDM_TITLE).value = f.title;\n\t}\n}\n"]}