document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll('*[data-picker="link"]');for(let t=0;t<e.length;t+=1)setLinkPicker(e[t])}));const setLinkPicker=function(){function e(e,t,n){const i=e.getElementsByClassName(t);for(let e=0;e<i.length;e+=1)i[e]instanceof HTMLInputElement?i[e].value=n:"A"===i[e].tagName?i[e].setAttribute("href",n):i[e].innerText=n}let t=null,n=null,i=!1;return function(l,r=!1,o=null,u={}){!1===r&&(r="link"),u=Object.assign({isInternalOnly:!1,isLinkTargetAllowed:!1,parentGen:1,postType:null},u),l.addEventListener("click",(function(s){l.getAttribute("disabled")||(s.preventDefault(),function(e,l,r,o){const u="picker-link-ta"+(0|8191*Math.random()),s=document.createElement("textarea");s.style.display="none",s.id=u,document.body.appendChild(s);const c=function(){if(wpLink.modalOpen&&""===s.value)return!1;if(""!==s.value){const t=function(e){const t=document.createElement("div");t.innerHTML=e.value;const n=t.getElementsByTagName("a")[0];return{url:n.href,title:n.innerText}}(s);jQuery("#wp-link").find(".query-results").off("river-select",a),document.body.removeChild(s),e(t)}return t=null,wpLink.close(),!0},a=function(e,t){const n=t.hasClass("no-title")?"":t.children(".item-title").text();jQuery("#wp-link-text").val(n)};(function(e){if(t=e,null===e||e===n)return;if(n=e,wpLink.init(),wpLink.lastSearch="",jQuery("#search-results > ul").empty(),jQuery("#most-recent-results > ul").empty(),i)return;i=!0,jQuery.ajaxSetup({beforeSend:function(e,n){return!n.data||(!t||(jQuery.each(n.data.split("&"),(function(e,i){const l=i.split("=");"action"===l[0]&&"wp-link-ajax"===l[1]&&(n.data+="&link_picker_pt="+t)})),!0))}})})(o),wpLink.open(u),function(e,t){const n=function(){e()||setTimeout(n,t)};setTimeout(n,t)}(c,100),jQuery("#wp-link").find(".query-results").on("river-select",a),jQuery("#link-options").show(),jQuery("#wplink-link-existing-content").show(),jQuery("#link-options > .link-target").show();const p=document.querySelectorAll("#link-selector .query-results");for(let e=0;e<p.length;e+=1)p[e].style.top="";if(l){jQuery("#link-options").hide(),jQuery("#wplink-link-existing-content").hide();for(let e=0;e<p.length;e+=1)p[e].style.top="48px"}else if(!r){jQuery("#link-options > .link-target").hide();for(let e=0;e<p.length;e+=1)p[e].style.top="177px"}}((function(t){const n=function(e,t){for(;0<t--&&e.parentNode;)e=e.parentNode;return e}(s.target,u.parentGen);!function(t,n,i){e(t,n+"-url",i.url),e(t,n+"-title",i.title),e(t,n+"-post-id","")}(n,r,t),o&&o(s.target,t)}),u.isInternalOnly,u.isLinkTargetAllowed,u.postType))}))}}();